use storage_platform;

create table storage_platform_physical_cluster
(
    `id` bigint(20)  NOT NULL AUTO_INCREMENT COMMENT 'primary id',
    `name` varchar(128) NOT NULL COMMENT 'cluster name',
    `type` varchar(128) NOT NULL COMMENT 'cluster type, eg:kafka,druid,clickhouse',
    `description` varchar(128) NOT NULL DEFAULT '' COMMENT 'description',
    `create_time` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `update_time` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    UNIQUE KEY `uniq_name` (`name`)
) ENGINE=InnoDB COMMENT 'physical cluster information';

create table storage_platform_physical_node
(
    `id` bigint(20)  NOT NULL AUTO_INCREMENT COMMENT 'primary id',
    `cluster_id` bigint(20) NOT NULL COMMENT 'cluster id the node belongs',
    `host` varchar(128) NOT NULL COMMENT 'host name',
    `port` bigint NOT NULL COMMENT 'port',
    `role` varchar(128) NOT NULL COMMENT 'the role of node in this cluster, such as broker in druid',
    `create_time` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `update_time` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
) ENGINE=InnoDB COMMENT 'physical node information';